# Javaé¢å‘å¯¹è±¡ç‰¹æ€§å®Œæ•´å®ç°

[â† è¿”å›JavaåŸºç¡€é¢è¯•é¢˜](../../questions/backend/java-basics.md)

## ğŸ¯ è§£å†³æ–¹æ¡ˆæ¦‚è¿°

Javaé¢å‘å¯¹è±¡ç¼–ç¨‹çš„å››å¤§ç‰¹æ€§ï¼ˆå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æŠ½è±¡ï¼‰æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„æ ¸å¿ƒåŸºç¡€ã€‚æ·±å…¥ç†è§£è¿™äº›ç‰¹æ€§ä¸ä»…æ˜¯æŒæ¡Javaè¯­è¨€çš„å…³é”®ï¼Œæ›´æ˜¯è¿›è¡Œä¼˜ç§€è½¯ä»¶è®¾è®¡çš„å‰æã€‚æœ¬è§£å†³æ–¹æ¡ˆé€šè¿‡å®Œæ•´çš„ä»£ç å®ç°å’Œæ·±åº¦åˆ†æï¼Œå±•ç¤ºå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­æ­£ç¡®åº”ç”¨è¿™äº›ç‰¹æ€§ã€‚

## ğŸ’¡ æ ¸å¿ƒé—®é¢˜åˆ†æ

### é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æŠ€æœ¯æŒ‘æˆ˜

**ä¸šåŠ¡èƒŒæ™¯**ï¼šåœ¨ä¼ä¸šçº§åº”ç”¨å¼€å‘ä¸­ï¼Œéœ€è¦æ„å»ºå¤æ‚çš„ä¸šåŠ¡æ¨¡å‹å’Œç³»ç»Ÿæ¶æ„ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹æä¾›äº†ç®¡ç†å¤æ‚æ€§çš„æœ‰æ•ˆæ–¹æ³•ã€‚

**æŠ€æœ¯éš¾ç‚¹**ï¼š
- å¦‚ä½•è®¾è®¡åˆç†çš„ç±»ç»§æ‰¿ä½“ç³»
- å¦‚ä½•å®ç°æœ‰æ•ˆçš„å°è£…å’Œæ•°æ®ä¿æŠ¤
- å¦‚ä½•åˆ©ç”¨å¤šæ€æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§
- å¦‚ä½•é€šè¿‡æŠ½è±¡è®¾è®¡å»ºç«‹æ¸…æ™°çš„æ¥å£å¥‘çº¦

## ğŸ“ é¢˜ç›®1ï¼šJavaé¢å‘å¯¹è±¡å››å¤§ç‰¹æ€§æ·±åº¦è§£æ

### è§£å†³æ–¹æ¡ˆæ€è·¯åˆ†æ

#### 1. å°è£…æ€§è®¾è®¡ç­–ç•¥

**ä¸ºä»€ä¹ˆéœ€è¦å°è£…ï¼Ÿ**
- æ•°æ®ä¿æŠ¤ï¼šé˜²æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®å’Œä¿®æ”¹å†…éƒ¨çŠ¶æ€
- æ¥å£ç¨³å®šï¼šé€šè¿‡å…¬å…±æ–¹æ³•æä¾›ç¨³å®šçš„è®¿é—®æ¥å£
- å®ç°éšè—ï¼šéšè—å¤æ‚çš„å†…éƒ¨å®ç°ç»†èŠ‚
- ä»£ç ç»´æŠ¤ï¼šé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦

#### 2. ç»§æ‰¿æœºåˆ¶è®¾è®¡åŸç†

**ç»§æ‰¿çš„æ ¸å¿ƒä»·å€¼**ï¼š
- ä»£ç å¤ç”¨ï¼šé¿å…é‡å¤ç¼–å†™ç›¸ä¼¼çš„ä»£ç 
- å±‚æ¬¡ç»“æ„ï¼šå»ºç«‹æ¸…æ™°çš„ç±»å‹å…³ç³»
- å¤šæ€åŸºç¡€ï¼šä¸ºå¤šæ€æä¾›ç±»å‹å±‚æ¬¡æ”¯æŒ
- æ‰©å±•æ€§ï¼šé€šè¿‡ç»§æ‰¿æ‰©å±•ç°æœ‰åŠŸèƒ½

#### 3. å¤šæ€å®ç°ä½“ç³»è®¾è®¡æ€è·¯

**å¤šæ€çš„å®ç°æœºåˆ¶**ï¼š
- åŠ¨æ€ç»‘å®šï¼šè¿è¡Œæ—¶ç¡®å®šè°ƒç”¨çš„å…·ä½“æ–¹æ³•
- æ¥å£ç»Ÿä¸€ï¼šé€šè¿‡ç»Ÿä¸€æ¥å£å¤„ç†ä¸åŒç±»å‹å¯¹è±¡
- æ‰©å±•æ€§ï¼šæ–°å¢ç±»å‹æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
- çµæ´»æ€§ï¼šæé«˜ç³»ç»Ÿçš„é€‚åº”æ€§å’Œå¯ç»´æŠ¤æ€§

### ä»£ç å®ç°è¦ç‚¹

#### å°è£…æ€§å®Œæ•´å®ç°

```java
/**
 * å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç±» - å±•ç¤ºå°è£…ç‰¹æ€§
 * 
 * è®¾è®¡åŸç†ï¼š
 * 1. æ•°æ®éšè—ï¼šä½¿ç”¨privateä¿®é¥°ç¬¦ä¿æŠ¤å†…éƒ¨æ•°æ®
 * 2. è®¿é—®æ§åˆ¶ï¼šé€šè¿‡publicæ–¹æ³•æä¾›å—æ§è®¿é—®
 * 3. æ•°æ®éªŒè¯ï¼šåœ¨setteræ–¹æ³•ä¸­è¿›è¡Œæ•°æ®åˆæ³•æ€§æ£€æŸ¥
 * 4. ä¸å˜æ€§ä¿æŠ¤ï¼šæŸäº›å­—æ®µåªå…è®¸åœ¨æ„é€ æ—¶è®¾ç½®
 */
public class Student {
    // ç§æœ‰å­—æ®µ - æ•°æ®éšè—
    private final String studentId;  // ä¸å¯å˜å­—æ®µ
    private String name;
    private int age;
    private String email;
    private List<Course> courses;
    
    // æ„é€ å™¨ - ç¡®ä¿å¯¹è±¡åˆ›å»ºæ—¶çš„æ•°æ®å®Œæ•´æ€§
    public Student(String studentId, String name, int age) {
        if (studentId == null || studentId.trim().isEmpty()) {
            throw new IllegalArgumentException("å­¦ç”ŸIDä¸èƒ½ä¸ºç©º");
        }
        if (name == null || name.trim().isEmpty()) {
            throw new IllegalArgumentException("å§“åä¸èƒ½ä¸ºç©º");
        }
        if (age < 0 || age > 150) {
            throw new IllegalArgumentException("å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´");
        }
        
        this.studentId = studentId;
        this.name = name.trim();
        this.age = age;
        this.courses = new ArrayList<>();
    }
    
    // è®¿é—®å™¨æ–¹æ³• - æä¾›å—æ§çš„æ•°æ®è®¿é—®
    public String getStudentId() {
        return studentId;  // ä¸å¯å˜å­—æ®µç›´æ¥è¿”å›
    }
    
    public String getName() {
        return name;
    }
    
    public int getAge() {
        return age;
    }
    
    public String getEmail() {
        return email;
    }
    
    // é˜²å¾¡æ€§å¤åˆ¶ - ä¿æŠ¤å†…éƒ¨é›†åˆ
    public List<Course> getCourses() {
        return new ArrayList<>(courses);
    }
    
    // ä¿®æ”¹å™¨æ–¹æ³• - æä¾›å—æ§çš„æ•°æ®ä¿®æ”¹
    public void setName(String name) {
        if (name == null || name.trim().isEmpty()) {
            throw new IllegalArgumentException("å§“åä¸èƒ½ä¸ºç©º");
        }
        this.name = name.trim();
    }
    
    public void setAge(int age) {
        if (age < 0 || age > 150) {
            throw new IllegalArgumentException("å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´");
        }
        this.age = age;
    }
    
    public void setEmail(String email) {
        if (email != null && !isValidEmail(email)) {
            throw new IllegalArgumentException("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
        }
        this.email = email;
    }
    
    // ä¸šåŠ¡æ–¹æ³• - å°è£…å¤æ‚çš„ä¸šåŠ¡é€»è¾‘
    public void enrollCourse(Course course) {
        if (course == null) {
            throw new IllegalArgumentException("è¯¾ç¨‹ä¸èƒ½ä¸ºç©º");
        }
        if (courses.contains(course)) {
            throw new IllegalStateException("å·²ç»é€‰ä¿®äº†è¯¥è¯¾ç¨‹");
        }
        if (courses.size() >= 10) {
            throw new IllegalStateException("é€‰ä¿®è¯¾ç¨‹ä¸èƒ½è¶…è¿‡10é—¨");
        }
        
        courses.add(course);
        course.addStudent(this);  // ç»´æŠ¤åŒå‘å…³ç³»
    }
    
    public void dropCourse(Course course) {
        if (course == null) {
            return;
        }
        if (courses.remove(course)) {
            course.removeStudent(this);  // ç»´æŠ¤åŒå‘å…³ç³»
        }
    }
    
    // ç§æœ‰è¾…åŠ©æ–¹æ³• - éšè—å®ç°ç»†èŠ‚
    private boolean isValidEmail(String email) {
        String emailRegex = "^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$";
        return email.matches(emailRegex);
    }
    
    // é‡å†™Objectæ–¹æ³•
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Student student = (Student) obj;
        return Objects.equals(studentId, student.studentId);
    }
    
    @Override
    public int hashCode() {
        return Objects.hash(studentId);
    }
    
    @Override
    public String toString() {
        return String.format("Student{id='%s', name='%s', age=%d, courses=%d}", 
                           studentId, name, age, courses.size());
    }
}
```

#### ç»§æ‰¿æœºåˆ¶å®Œæ•´å®ç°

```java
/**
 * äººå‘˜åŸºç±» - å±•ç¤ºç»§æ‰¿ç‰¹æ€§
 * 
 * è®¾è®¡åŸç†ï¼š
 * 1. å…±æ€§æŠ½å–ï¼šå°†å…±åŒå±æ€§å’Œæ–¹æ³•æå–åˆ°åŸºç±»
 * 2. æ‰©å±•ç‚¹å®šä¹‰ï¼šä¸ºå­ç±»æ‰©å±•æä¾›é’©å­æ–¹æ³•
 * 3. æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰ç®—æ³•éª¨æ¶ï¼Œå­ç±»å®ç°å…·ä½“æ­¥éª¤
 * 4. è®¿é—®æ§åˆ¶ï¼šä½¿ç”¨protectedå…è®¸å­ç±»è®¿é—®
 */
public abstract class Person {
    protected String id;
    protected String name;
    protected int age;
    protected String phone;
    protected Address address;
    
    protected Person(String id, String name, int age) {
        this.id = validateId(id);
        this.name = validateName(name);
        this.age = validateAge(age);
    }
    
    // æ¨¡æ¿æ–¹æ³• - å®šä¹‰é€šç”¨æµç¨‹
    public final String getFullInfo() {
        StringBuilder info = new StringBuilder();
        info.append("åŸºæœ¬ä¿¡æ¯: ").append(getBasicInfo()).append("\n");
        info.append("è¯¦ç»†ä¿¡æ¯: ").append(getDetailInfo()).append("\n");
        info.append("è§’è‰²ä¿¡æ¯: ").append(getRoleInfo()).append("\n");
        return info.toString();
    }
    
    // å…·ä½“æ–¹æ³• - å­ç±»ç»§æ‰¿
    protected String getBasicInfo() {
        return String.format("ID: %s, å§“å: %s, å¹´é¾„: %d", id, name, age);
    }
    
    // æŠ½è±¡æ–¹æ³• - å­ç±»å¿…é¡»å®ç°
    protected abstract String getDetailInfo();
    protected abstract String getRoleInfo();
    
    // é’©å­æ–¹æ³• - å­ç±»å¯é€‰æ‹©æ€§é‡å†™
    protected boolean shouldValidatePhone() {
        return true;
    }
    
    // å‚æ•°éªŒè¯æ–¹æ³•
    private String validateId(String id) {
        if (id == null || id.trim().isEmpty()) {
            throw new IllegalArgumentException("IDä¸èƒ½ä¸ºç©º");
        }
        return id.trim();
    }
    
    private String validateName(String name) {
        if (name == null || name.trim().isEmpty()) {
            throw new IllegalArgumentException("å§“åä¸èƒ½ä¸ºç©º");
        }
        return name.trim();
    }
    
    private int validateAge(int age) {
        if (age < 0 || age > 150) {
            throw new IllegalArgumentException("å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´");
        }
        return age;
    }
    
    // é€šç”¨æ–¹æ³•
    public void setPhone(String phone) {
        if (shouldValidatePhone() && !isValidPhone(phone)) {
            throw new IllegalArgumentException("ç”µè¯å·ç æ ¼å¼ä¸æ­£ç¡®");
        }
        this.phone = phone;
    }
    
    private boolean isValidPhone(String phone) {
        return phone != null && phone.matches("^1[3-9]\\d{9}$");
    }
    
    // è®¿é—®å™¨æ–¹æ³•
    public String getId() { return id; }
    public String getName() { return name; }
    public int getAge() { return age; }
    public String getPhone() { return phone; }
    public Address getAddress() { return address; }
    public void setAddress(Address address) { this.address = address; }
}

/**
 * å­¦ç”Ÿç±» - ç»§æ‰¿Person
 */
public class Student extends Person {
    private String studentNumber;
    private String major;
    private int grade;
    private double gpa;
    private List<Course> courses;
    
    public Student(String id, String name, int age, String studentNumber, String major) {
        super(id, name, age);  // è°ƒç”¨çˆ¶ç±»æ„é€ å™¨
        this.studentNumber = validateStudentNumber(studentNumber);
        this.major = validateMajor(major);
        this.grade = 1;  // é»˜è®¤ä¸€å¹´çº§
        this.gpa = 0.0;
        this.courses = new ArrayList<>();
    }
    
    // å®ç°æŠ½è±¡æ–¹æ³•
    @Override
    protected String getDetailInfo() {
        return String.format("å­¦å·: %s, ä¸“ä¸š: %s, å¹´çº§: %d, GPA: %.2f", 
                           studentNumber, major, grade, gpa);
    }
    
    @Override
    protected String getRoleInfo() {
        return "è§’è‰²: å­¦ç”Ÿ, é€‰ä¿®è¯¾ç¨‹: " + courses.size() + "é—¨";
    }
    
    // é‡å†™é’©å­æ–¹æ³•
    @Override
    protected boolean shouldValidatePhone() {
        return false;  // å­¦ç”Ÿç”µè¯å·ç éªŒè¯è¾ƒå®½æ¾
    }
    
    // å­¦ç”Ÿç‰¹æœ‰æ–¹æ³•
    public void enrollCourse(Course course) {
        if (!courses.contains(course)) {
            courses.add(course);
            updateGPA();
        }
    }
    
    public void updateGrade() {
        this.grade++;
    }
    
    private void updateGPA() {
        if (courses.isEmpty()) {
            this.gpa = 0.0;
            return;
        }
        
        double totalPoints = courses.stream()
                .mapToDouble(Course::getGradePoint)
                .sum();
        this.gpa = totalPoints / courses.size();
    }
    
    private String validateStudentNumber(String studentNumber) {
        if (studentNumber == null || !studentNumber.matches("^\\d{10}$")) {
            throw new IllegalArgumentException("å­¦å·å¿…é¡»æ˜¯10ä½æ•°å­—");
        }
        return studentNumber;
    }
    
    private String validateMajor(String major) {
        if (major == null || major.trim().isEmpty()) {
            throw new IllegalArgumentException("ä¸“ä¸šä¸èƒ½ä¸ºç©º");
        }
        return major.trim();
    }
    
    // è®¿é—®å™¨æ–¹æ³•
    public String getStudentNumber() { return studentNumber; }
    public String getMajor() { return major; }
    public int getGrade() { return grade; }
    public double getGpa() { return gpa; }
    public List<Course> getCourses() { return new ArrayList<>(courses); }
}

/**
 * æ•™å¸ˆç±» - ç»§æ‰¿Person
 */
public class Teacher extends Person {
    private String employeeId;
    private String department;
    private String title;
    private double salary;
    private List<Course> teachingCourses;
    
    public Teacher(String id, String name, int age, String employeeId, String department) {
        super(id, name, age);
        this.employeeId = validateEmployeeId(employeeId);
        this.department = validateDepartment(department);
        this.title = "è®²å¸ˆ";  // é»˜è®¤èŒç§°
        this.teachingCourses = new ArrayList<>();
    }
    
    @Override
    protected String getDetailInfo() {
        return String.format("å·¥å·: %s, éƒ¨é—¨: %s, èŒç§°: %s, è–ªèµ„: %.2f", 
                           employeeId, department, title, salary);
    }
    
    @Override
    protected String getRoleInfo() {
        return "è§’è‰²: æ•™å¸ˆ, æˆè¯¾: " + teachingCourses.size() + "é—¨";
    }
    
    // æ•™å¸ˆç‰¹æœ‰æ–¹æ³•
    public void assignCourse(Course course) {
        if (!teachingCourses.contains(course)) {
            teachingCourses.add(course);
            course.setTeacher(this);
        }
    }
    
    public void promoteTitle(String newTitle) {
        this.title = newTitle;
        adjustSalary();
    }
    
    private void adjustSalary() {
        // æ ¹æ®èŒç§°è°ƒæ•´è–ªèµ„
        switch (title) {
            case "åŠ©æ•™": this.salary = 5000; break;
            case "è®²å¸ˆ": this.salary = 8000; break;
            case "å‰¯æ•™æˆ": this.salary = 12000; break;
            case "æ•™æˆ": this.salary = 18000; break;
            default: this.salary = 6000;
        }
    }
    
    private String validateEmployeeId(String employeeId) {
        if (employeeId == null || !employeeId.matches("^T\\d{6}$")) {
            throw new IllegalArgumentException("å·¥å·æ ¼å¼åº”ä¸ºTå¼€å¤´çš„7ä½å­—ç¬¦");
        }
        return employeeId;
    }
    
    private String validateDepartment(String department) {
        if (department == null || department.trim().isEmpty()) {
            throw new IllegalArgumentException("éƒ¨é—¨ä¸èƒ½ä¸ºç©º");
        }
        return department.trim();
    }
    
    // è®¿é—®å™¨æ–¹æ³•
    public String getEmployeeId() { return employeeId; }
    public String getDepartment() { return department; }
    public String getTitle() { return title; }
    public double getSalary() { return salary; }
    public List<Course> getTeachingCourses() { return new ArrayList<>(teachingCourses); }
}
```

#### å¤šæ€æ€§å®Œæ•´å®ç°

```java
/**
 * å›¾å½¢æ¥å£ - å±•ç¤ºå¤šæ€ç‰¹æ€§
 * 
 * è®¾è®¡åŸç†ï¼š
 * 1. æ¥å£ç»Ÿä¸€ï¼šå®šä¹‰ç»Ÿä¸€çš„æ“ä½œæ¥å£
 * 2. å®ç°åˆ†ç¦»ï¼šä¸åŒå®ç°ç±»æä¾›å…·ä½“å®ç°
 * 3. åŠ¨æ€ç»‘å®šï¼šè¿è¡Œæ—¶ç¡®å®šå…·ä½“è°ƒç”¨æ–¹æ³•
 * 4. æ‰©å±•æ€§ï¼šæ–°å¢å›¾å½¢ç±»å‹æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
 */
public interface Shape {
    double getArea();
    double getPerimeter();
    void draw();
    String getShapeType();
    
    // é»˜è®¤æ–¹æ³• - Java 8ç‰¹æ€§
    default String getDescription() {
        return String.format("%s - é¢ç§¯: %.2f, å‘¨é•¿: %.2f", 
                           getShapeType(), getArea(), getPerimeter());
    }
    
    // é™æ€æ–¹æ³•
    static Shape createCircle(double radius) {
        return new Circle(radius);
    }
    
    static Shape createRectangle(double width, double height) {
        return new Rectangle(width, height);
    }
}

/**
 * åœ†å½¢å®ç°ç±»
 */
public class Circle implements Shape {
    private final double radius;
    
    public Circle(double radius) {
        if (radius <= 0) {
            throw new IllegalArgumentException("åŠå¾„å¿…é¡»å¤§äº0");
        }
        this.radius = radius;
    }
    
    @Override
    public double getArea() {
        return Math.PI * radius * radius;
    }
    
    @Override
    public double getPerimeter() {
        return 2 * Math.PI * radius;
    }
    
    @Override
    public void draw() {
        System.out.println("ç»˜åˆ¶åœ†å½¢ï¼ŒåŠå¾„: " + radius);
    }
    
    @Override
    public String getShapeType() {
        return "åœ†å½¢";
    }
    
    public double getRadius() {
        return radius;
    }
    
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Circle circle = (Circle) obj;
        return Double.compare(circle.radius, radius) == 0;
    }
    
    @Override
    public int hashCode() {
        return Objects.hash(radius);
    }
}

/**
 * çŸ©å½¢å®ç°ç±»
 */
public class Rectangle implements Shape {
    private final double width;
    private final double height;
    
    public Rectangle(double width, double height) {
        if (width <= 0 || height <= 0) {
            throw new IllegalArgumentException("å®½åº¦å’Œé«˜åº¦å¿…é¡»å¤§äº0");
        }
        this.width = width;
        this.height = height;
    }
    
    @Override
    public double getArea() {
        return width * height;
    }
    
    @Override
    public double getPerimeter() {
        return 2 * (width + height);
    }
    
    @Override
    public void draw() {
        System.out.println("ç»˜åˆ¶çŸ©å½¢ï¼Œå®½: " + width + ", é«˜: " + height);
    }
    
    @Override
    public String getShapeType() {
        return "çŸ©å½¢";
    }
    
    public double getWidth() { return width; }
    public double getHeight() { return height; }
    
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Rectangle rectangle = (Rectangle) obj;
        return Double.compare(rectangle.width, width) == 0 &&
               Double.compare(rectangle.height, height) == 0;
    }
    
    @Override
    public int hashCode() {
        return Objects.hash(width, height);
    }
}

/**
 * ä¸‰è§’å½¢å®ç°ç±»
 */
public class Triangle implements Shape {
    private final double sideA;
    private final double sideB;
    private final double sideC;
    
    public Triangle(double sideA, double sideB, double sideC) {
        if (!isValidTriangle(sideA, sideB, sideC)) {
            throw new IllegalArgumentException("æ— æ•ˆçš„ä¸‰è§’å½¢è¾¹é•¿");
        }
        this.sideA = sideA;
        this.sideB = sideB;
        this.sideC = sideC;
    }
    
    @Override
    public double getArea() {
        // ä½¿ç”¨æµ·ä¼¦å…¬å¼è®¡ç®—é¢ç§¯
        double s = getPerimeter() / 2;
        return Math.sqrt(s * (s - sideA) * (s - sideB) * (s - sideC));
    }
    
    @Override
    public double getPerimeter() {
        return sideA + sideB + sideC;
    }
    
    @Override
    public void draw() {
        System.out.println("ç»˜åˆ¶ä¸‰è§’å½¢ï¼Œè¾¹é•¿: " + sideA + ", " + sideB + ", " + sideC);
    }
    
    @Override
    public String getShapeType() {
        return "ä¸‰è§’å½¢";
    }
    
    private boolean isValidTriangle(double a, double b, double c) {
        return a > 0 && b > 0 && c > 0 &&
               a + b > c && a + c > b && b + c > a;
    }
    
    public double getSideA() { return sideA; }
    public double getSideB() { return sideB; }
    public double getSideC() { return sideC; }
}

/**
 * å›¾å½¢å¤„ç†å™¨ - å±•ç¤ºå¤šæ€çš„ä½¿ç”¨
 */
public class ShapeProcessor {
    
    public void processShapes(List<Shape> shapes) {
        System.out.println("=== å›¾å½¢å¤„ç†å¼€å§‹ ===");
        
        double totalArea = 0;
        double totalPerimeter = 0;
        
        for (Shape shape : shapes) {
            // å¤šæ€è°ƒç”¨ - è¿è¡Œæ—¶ç¡®å®šå…·ä½“å®ç°
            shape.draw();
            System.out.println(shape.getDescription());
            
            totalArea += shape.getArea();
            totalPerimeter += shape.getPerimeter();
            
            // ç±»å‹åˆ¤æ–­å’Œç‰¹æ®Šå¤„ç†
            if (shape instanceof Circle) {
                Circle circle = (Circle) shape;
                System.out.println("  -> åœ†å½¢åŠå¾„: " + circle.getRadius());
            } else if (shape instanceof Rectangle) {
                Rectangle rect = (Rectangle) shape;
                System.out.println("  -> çŸ©å½¢å°ºå¯¸: " + rect.getWidth() + "x" + rect.getHeight());
            }
            
            System.out.println();
        }
        
        System.out.println("æ€»é¢ç§¯: " + totalArea);
        System.out.println("æ€»å‘¨é•¿: " + totalPerimeter);
        System.out.println("=== å›¾å½¢å¤„ç†ç»“æŸ ===");
    }
    
    public Shape findLargestShape(List<Shape> shapes) {
        return shapes.stream()
                .max(Comparator.comparingDouble(Shape::getArea))
                .orElse(null);
    }
    
    public List<Shape> filterByType(List<Shape> shapes, String shapeType) {
        return shapes.stream()
                .filter(shape -> shape.getShapeType().equals(shapeType))
                .collect(Collectors.toList());
    }
}
```

#### æŠ½è±¡è®¾è®¡å®Œæ•´å®ç°

```java
/**
 * æŠ½è±¡åŠ¨ç‰©ç±» - å±•ç¤ºæŠ½è±¡ç‰¹æ€§
 * 
 * è®¾è®¡åŸç†ï¼š
 * 1. å…±æ€§æŠ½å–ï¼šå®šä¹‰åŠ¨ç‰©çš„å…±åŒç‰¹å¾å’Œè¡Œä¸º
 * 2. æŠ½è±¡æ–¹æ³•ï¼šå®šä¹‰å­ç±»å¿…é¡»å®ç°çš„è¡Œä¸º
 * 3. æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰è¡Œä¸ºçš„æ ‡å‡†æµç¨‹
 * 4. é’©å­æ–¹æ³•ï¼šä¸ºå­ç±»æä¾›æ‰©å±•ç‚¹
 */
public abstract class Animal {
    protected String name;
    protected int age;
    protected double weight;
    protected String species;
    
    protected Animal(String name, String species) {
        this.name = validateName(name);
        this.species = validateSpecies(species);
        this.age = 0;
        this.weight = 0.0;
    }
    
    // æŠ½è±¡æ–¹æ³• - å­ç±»å¿…é¡»å®ç°
    public abstract void makeSound();
    public abstract void move();
    public abstract String getHabitat();
    public abstract FoodType getFoodType();
    
    // æ¨¡æ¿æ–¹æ³• - å®šä¹‰æ ‡å‡†çš„æ—¥å¸¸æ´»åŠ¨æµç¨‹
    public final void performDailyActivities() {
        System.out.println(name + " å¼€å§‹ä¸€å¤©çš„æ´»åŠ¨:");
        
        wakeUp();
        if (shouldEat()) {
            eat();
        }
        move();
        makeSound();
        if (shouldRest()) {
            rest();
        }
        sleep();
        
        System.out.println(name + " ç»“æŸä¸€å¤©çš„æ´»åŠ¨\n");
    }
    
    // å…·ä½“æ–¹æ³• - é€šç”¨è¡Œä¸º
    protected void wakeUp() {
        System.out.println(name + " é†’æ¥äº†");
    }
    
    protected void eat() {
        System.out.println(name + " æ­£åœ¨è¿›é£Ÿ " + getFoodType().getDescription());
    }
    
    protected void rest() {
        System.out.println(name + " æ­£åœ¨ä¼‘æ¯");
    }
    
    protected void sleep() {
        System.out.println(name + " å»ç¡è§‰äº†");
    }
    
    // é’©å­æ–¹æ³• - å­ç±»å¯é€‰æ‹©æ€§é‡å†™
    protected boolean shouldEat() {
        return true;
    }
    
    protected boolean shouldRest() {
        return true;
    }
    
    // å…¬å…±æ–¹æ³•
    public void grow(int months) {
        this.age += months;
        adjustWeight();
    }
    
    protected abstract void adjustWeight();
    
    public String getInfo() {
        return String.format("%s - ç§ç±»: %s, å¹´é¾„: %dä¸ªæœˆ, ä½“é‡: %.1fkg, æ –æ¯åœ°: %s", 
                           name, species, age, weight, getHabitat());
    }
    
    // éªŒè¯æ–¹æ³•
    private String validateName(String name) {
        if (name == null || name.trim().isEmpty()) {
            throw new IllegalArgumentException("åŠ¨ç‰©åç§°ä¸èƒ½ä¸ºç©º");
        }
        return name.trim();
    }
    
    private String validateSpecies(String species) {
        if (species == null || species.trim().isEmpty()) {
            throw new IllegalArgumentException("ç‰©ç§ä¸èƒ½ä¸ºç©º");
        }
        return species.trim();
    }
    
    // è®¿é—®å™¨æ–¹æ³•
    public String getName() { return name; }
    public int getAge() { return age; }
    public double getWeight() { return weight; }
    public String getSpecies() { return species; }
}

/**
 * é£Ÿç‰©ç±»å‹æšä¸¾
 */
public enum FoodType {
    CARNIVORE("è‚‰ç±»"),
    HERBIVORE("æ¤ç‰©"),
    OMNIVORE("æ‚é£Ÿ"),
    INSECTIVORE("æ˜†è™«");
    
    private final String description;
    
    FoodType(String description) {
        this.description = description;
    }
    
    public String getDescription() {
        return description;
    }
}

/**
 * ç‹—ç±»å®ç°
 */
public class Dog extends Animal {
    private String breed;
    private boolean isTrained;
    
    public Dog(String name, String breed) {
        super(name, "çŠ¬ç§‘");
        this.breed = breed;
        this.isTrained = false;
    }
    
    @Override
    public void makeSound() {
        System.out.println(name + " æ±ªæ±ªå«");
    }
    
    @Override
    public void move() {
        System.out.println(name + " å¿«ä¹åœ°å¥”è·‘");
    }
    
    @Override
    public String getHabitat() {
        return "äººç±»å®¶åº­";
    }
    
    @Override
    public FoodType getFoodType() {
        return FoodType.OMNIVORE;
    }
    
    @Override
    protected void adjustWeight() {
        // ç‹—çš„ä½“é‡éšå¹´é¾„å¢é•¿
        this.weight = age * 0.5 + 2.0;
    }
    
    // ç‹—ç‰¹æœ‰çš„è¡Œä¸º
    public void fetch() {
        System.out.println(name + " å»æ¡çƒ");
    }
    
    public void train() {
        this.isTrained = true;
        System.out.println(name + " å®Œæˆäº†è®­ç»ƒ");
    }
    
    // é‡å†™é’©å­æ–¹æ³•
    @Override
    protected boolean shouldRest() {
        return !isTrained;  // è®­ç»ƒè¿‡çš„ç‹—æ›´æ´»è·ƒ
    }
    
    public String getBreed() { return breed; }
    public boolean isTrained() { return isTrained; }
}

/**
 * çŒ«ç±»å®ç°
 */
public class Cat extends Animal {
    private boolean isIndoor;
    private int livesRemaining;
    
    public Cat(String name) {
        super(name, "çŒ«ç§‘");
        this.isIndoor = true;
        this.livesRemaining = 9;  // çŒ«æœ‰ä¹æ¡å‘½
    }
    
    @Override
    public void makeSound() {
        System.out.println(name + " å–µå–µå«");
    }
    
    @Override
    public void move() {
        if (isIndoor) {
            System.out.println(name + " åœ¨å®¶é‡Œä¼˜é›…åœ°èµ°åŠ¨");
        } else {
            System.out.println(name + " åœ¨æˆ·å¤–çµæ´»åœ°è·³è·ƒ");
        }
    }
    
    @Override
    public String getHabitat() {
        return isIndoor ? "å®¤å†…" : "å®¤å†…å¤–";
    }
    
    @Override
    public FoodType getFoodType() {
        return FoodType.CARNIVORE;
    }
    
    @Override
    protected void adjustWeight() {
        this.weight = age * 0.3 + 1.5;
    }
    
    // çŒ«ç‰¹æœ‰çš„è¡Œä¸º
    public void purr() {
        System.out.println(name + " å‘å‡ºå‘¼å™œå£°");
    }
    
    public void hunt() {
        if (!isIndoor) {
            System.out.println(name + " æ­£åœ¨ç‹©çŒ");
        }
    }
    
    public void setIndoor(boolean indoor) {
        this.isIndoor = indoor;
    }
    
    public boolean isIndoor() { return isIndoor; }
    public int getLivesRemaining() { return livesRemaining; }
}

/**
 * é¸Ÿç±»å®ç°
 */
public class Bird extends Animal {
    private double wingSpan;
    private boolean canFly;
    
    public Bird(String name, String species, double wingSpan) {
        super(name, species);
        this.wingSpan = wingSpan;
        this.canFly = true;
    }
    
    @Override
    public void makeSound() {
        System.out.println(name + " å•¾å•¾å«");
    }
    
    @Override
    public void move() {
        if (canFly) {
            System.out.println(name + " å±•ç¿…é£ç¿”");
        } else {
            System.out.println(name + " åœ¨åœ°é¢è·³è·ƒ");
        }
    }
    
    @Override
    public String getHabitat() {
        return "æ ‘æ—å’Œå¤©ç©º";
    }
    
    @Override
    public FoodType getFoodType() {
        return FoodType.OMNIVORE;
    }
    
    @Override
    protected void adjustWeight() {
        this.weight = age * 0.1 + 0.5;
    }
    
    // é¸Ÿç±»ç‰¹æœ‰è¡Œä¸º
    public void fly() {
        if (canFly) {
            System.out.println(name + " é£å‘å¤©ç©º");
        } else {
            System.out.println(name + " æ— æ³•é£è¡Œ");
        }
    }
    
    public void buildNest() {
        System.out.println(name + " æ­£åœ¨ç­‘å·¢");
    }
    
    public double getWingSpan() { return wingSpan; }
    public boolean canFly() { return canFly; }
    public void setCanFly(boolean canFly) { this.canFly = canFly; }
}
```

## ğŸ¯ é¢è¯•è¦ç‚¹æ€»ç»“

### æŠ€æœ¯æ·±åº¦ä½“ç°

1. **å°è£…è®¾è®¡èƒ½åŠ›**ï¼š
   - åˆç†çš„è®¿é—®æ§åˆ¶ç­–ç•¥
   - æ•°æ®éªŒè¯å’Œè¾¹ç•Œæ£€æŸ¥
   - é˜²å¾¡æ€§ç¼–ç¨‹æŠ€å·§
   - ä¸å˜æ€§è®¾è®¡åŸåˆ™

2. **ç»§æ‰¿ä½“ç³»è®¾è®¡**ï¼š
   - åˆç†çš„ç±»å±‚æ¬¡ç»“æ„
   - æŠ½è±¡å±‚æ¬¡çš„åˆ’åˆ†
   - æ¨¡æ¿æ–¹æ³•æ¨¡å¼åº”ç”¨
   - ä»£ç å¤ç”¨ç­–ç•¥

3. **å¤šæ€æœºåˆ¶è¿ç”¨**ï¼š
   - æ¥å£è®¾è®¡å’Œå®ç°åˆ†ç¦»
   - è¿è¡Œæ—¶ç±»å‹åˆ¤æ–­
   - ç­–ç•¥æ¨¡å¼åº”ç”¨
   - æ‰©å±•æ€§è®¾è®¡

4. **æŠ½è±¡è®¾è®¡æ€ç»´**ï¼š
   - æŠ½è±¡ç±»å’Œæ¥å£çš„é€‰æ‹©
   - å¥‘çº¦å¼ç¼–ç¨‹
   - é’©å­æ–¹æ³•è®¾è®¡
   - æ¡†æ¶å¼æ€ç»´

### ç”Ÿäº§å®è·µç»éªŒ

1. **è®¾è®¡åŸåˆ™åº”ç”¨**ï¼š
   - å•ä¸€èŒè´£åŸåˆ™
   - å¼€é—­åŸåˆ™
   - é‡Œæ°æ›¿æ¢åŸåˆ™
   - ä¾èµ–å€’ç½®åŸåˆ™

2. **ä»£ç è´¨é‡ä¿è¯**ï¼š
   - å¼‚å¸¸å¤„ç†ç­–ç•¥
   - å‚æ•°éªŒè¯æœºåˆ¶
   - è¾¹ç•Œæ¡ä»¶å¤„ç†
   - çº¿ç¨‹å®‰å…¨è€ƒè™‘

3. **å¯ç»´æŠ¤æ€§è®¾è®¡**ï¼š
   - æ¸…æ™°çš„å‘½åè§„èŒƒ
   - é€‚å½“çš„æ³¨é‡Šæ–‡æ¡£
   - åˆç†çš„æ–¹æ³•ç²’åº¦
   - ä¸€è‡´çš„ç¼–ç é£æ ¼

### é¢è¯•å›ç­”è¦ç‚¹

1. **ç†è®ºåŸºç¡€æ‰å®**ï¼šèƒ½å¤Ÿå‡†ç¡®è§£é‡Šå››å¤§ç‰¹æ€§çš„å®šä¹‰å’Œä½œç”¨
2. **å®è·µç»éªŒä¸°å¯Œ**ï¼šç»“åˆå…·ä½“é¡¹ç›®åœºæ™¯è¯´æ˜åº”ç”¨æ–¹å¼
3. **è®¾è®¡æ€ç»´æ¸…æ™°**ï¼šå±•ç¤ºé¢å‘å¯¹è±¡åˆ†æå’Œè®¾è®¡èƒ½åŠ›
4. **ä»£ç è´¨é‡æ„è¯†**ï¼šä½“ç°å·¥ç¨‹åŒ–å¼€å‘çš„æœ€ä½³å®è·µ

[â† è¿”å›JavaåŸºç¡€é¢è¯•é¢˜](../../questions/backend/java-basics.md) 